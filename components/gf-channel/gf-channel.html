<template>
    <div class="row" ms-controller="gf-channel">
        <div class="col-xs-12 col-md-12">
            <ms:dialog $id="dialog_channel" ms-skip>
                <div class="row">
                    <div class="col-md-12">
                        <ms:form>
                            <ms:control-text label="栏目名称" col="name" ms-cduplex="record.name"></ms:control-text>
                            <ms:control-text label="学者姓名" col="author_name" ms-cduplex="record.author_name"></ms:control-text>
                            <ms:control-text label="学者领域" col="author_field" ms-cduplex="record.author_field"></ms:control-text>
                            <ms:control-text label="一句话简介" col="brief" ms-cduplex="record.brief"></ms:control-text>
                            <ms:control-text label="订阅数" col="store_count" ms-cduplex="record.store_count"></ms:control-text>
                            <ms:control-text label="专栏头像图" col="tag.thumb" ms-cduplex="record.tag.thumb"></ms:control-text>
                            <button type="button" ms-click="state.selectItem">sdf</button>
                            <ms:control-text label="选择的图片" ms-cduplex="state.selection"></ms:control-text>
                        </ms:form>
                    </div>
                </div>
            </ms:dialog>
            <ms:data-box $id="data-box_channel" on-init="dataBoxInit" config="$data-box_config">
                <div slot="content" class="widget">
                    <div class="widget-header bg-blue">
                        <span class="widget-caption">专栏列表</span>
                    </div>
                    <div class="widget-body">
                        <ms:form class="form-inline" model="searchFields">
                            <ms:control-text label="名称" col="name" ms-cduplex="searchFields.name"></ms:control-text>
                            <ms:control-text label="学者姓名" col="author_name" ms-cduplex="searchFields.author_name"></ms:control-text>
                            <ms:control-text label="学者领域" col="author_field" ms-cduplex="searchFields.author_field"></ms:control-text>
                            <button type="button" class="btn btn-info" ms-click="search">
                                <span class="fa fa-search">
                                </span>搜索
                            </button>
                        </ms:form>
                        <div class="table-toolbar">
                            <button class="btn btn-info" ms-click="actions.add">
                                <span class="fa fa-plus">
                                </span>新增专栏
                            </button>
                        </div>
                        <ms:table class="table table-hover table-bordered" ms-cprop-data="list">
                            <ms:table-header col="name" text="栏目名"></ms:table-header>
                            <ms:table-header col="author_name" text="学者姓名"></ms:table-header>
                            <ms:table-header col="author_field" text="学者领域"></ms:table-header>
                            <ms:table-header col="brief" text="一句话简介"></ms:table-header>
                            <ms:table-header col="store_count" text="订阅数"></ms:table-header>
                            <ms:table-header text="操作" inline-template>
                                <a href="javascript:;" class="btn btn-info btn-xs" ms-click="actions.edit(row)"><i class="fa fa-edit"></i> 编辑</a>
                                <a href="javascript:;" class="btn btn-danger btn-xs" ms-click="actions.del(row)"><i class="fa fa-trash-o"></i> 删除</a>
                            </ms:table-header>
                        </ms:table>
                        <ms:pagination
                            ms-cprop-page-size="pageSize"
                            ms-cprop-total="total" 
                            ms-cprop-current-change="pageChange">
                        </ms:pagination>
                    </div>
                </div>
            </ms:data-box>
        </div>
    </div>
</template>